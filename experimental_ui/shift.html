<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
        <script src="UIEngine.js"></script>
            <link rel="stylesheet" href="styles.css" />
  </head>
  <body>

  <div class="body1">
    <div class="minecraft-container" style="width:70vw;">
    	<div style="text-align:center;">Write commands</div>
    	        <div id="close" class="close-button">x</div>
      <div class="minecraft-container-darkcommand">
      	<div class="row" >
      	   <p id="demo" class="width:850px;overflow-wrap: break-word;"></p>
      </div>
               <div id="done" class="buttoncommand">done</div>
               <div class="row">
                <div class="buttoncommand" style="margin-top: 10px;width:50%;" onclick="clear()" id="clear">clear</div>
                <div id="back" class="buttoncommand" style="margin-top: 10px;width:50%;">back</div>
                </div>
      </div>
    </div>
<div class="minecraft-container1" style="width:1010px; height:370px;">
<div class="minecraft-container-dark">
<div class="column">
  <div class="row margin">
    	    <div class="keyboard" style="margin-right:20px;" onclick="addtext('+')">+</div>
    	    <div class="keyboard" style="margin-right:20px;" onclick="addtext('1')">1</div>
    	    <div class="keyboard" style="margin-right:20px;" onclick="addtext('2')">2</div>
    	    <div class="keyboard" style="margin-right:20px;" onclick="addtext('3')">3</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('4')">4</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('5')">5</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('6')">6</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('7')">7</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('8')">8</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('9')">9</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('0')">0</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext(',')">,</div>
          <div class="keyboardbspace" style="margin-right:20px;" onclick="bspace()">back space</div>
  </div>
  <div class="row margin">
    	    <div class="keyboard" style="margin-right:20px;" onclick="addtext(';')">;</div>
    	    <div class="keyboard" style="margin-right:20px;" onclick="addtext('\\')">\</div>
    	    <div class="keyboard" style="margin-right:20px;" onclick="addtext('/')">/</div>
    	    <div class="keyboard" style="margin-right:20px;" onclick="addtext('?')">?</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('Q')">Q</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('W')">W</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('E')">E</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('R')">R</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('T')">T</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('Y')">Y</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('U')">U</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('I')" >I</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('O')">O</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('P')">P</div>
  </div>
  <div class="row margin">
          <div class="keyboard" style="margin-right:20px;" onclick="qq()">'</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('.')">.</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('#')">#</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('$')">$</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('A')">A</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('S')">S</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('D')">D</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('F')">F</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('G')">G</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('H')">H</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('J')">J</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('K')">K</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('L')">L</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('%')">%</div>
  </div>
  <div class="row margin">
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('^')">^</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('&')">&</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('*')">*</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('Z')">Z</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('X')">X</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('C')">C</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('V')">V</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('B')">B</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('N')">N</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('M')">M</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext('ยง')">ยง</div>
          <div class="keyboardspace" style="margin-right:20px;" onclick="space()">space</div>
          <div class="keyboard" style="margin-right:20px;" onclick="addtext(':')">:</div>
          <div class="keyboardspace" style="margin-right:20px;background-color:green;" onclick="closeshift()">Shift</div>
  </div>
</div>
</div>
</div>
</div>

</body>

<script type="text/javascript">

     let scriptEngineHandle = null;
engine.on("facet:updated:core.scripting", function (scriptEngine) {
		scriptEngineHandle = scriptEngine
    })
    engine.trigger("facet:request", ["core.scripting"])
    engine.on("shiftui", function (shiftdata) {
      let y=JSON.parse(shiftdata)
       document.getElementById('demo').innerHTML = y
    })
    function addtext(text) {
       let x=document.getElementById('demo').textContent
       document.getElementById('demo').innerHTML = `${x}${text}`
    }
   
function space() {
	var x = document.getElementById('demo').textContent
  document.getElementById('demo').innerHTML = `${x}&nbsp;`
}


function bspace() {
    	var x = document.getElementById('demo').textContent;
  var y = x.substr(0, x.length-1)
  document.getElementById('demo').innerHTML = `${y}`
}

function qq() {
    	var x = document.getElementById('demo').textContent
  document.getElementById('demo').innerHTML = `${x}'`
}
function clear() {
  document.getElementById('demo').innerHTML = " "
}
let done = document.getElementById("done")
    done.addEventListener("click", function () {
    	  var x = document.getElementById("demo").textContent
    var data = x.replace(/\u00A0/g, " ")
    var event = {
    	eventName: "sendcommandpressed",
        data: data
        }
       let eventData = JSON.stringify(event)
        scriptEngineHandle.triggerEvent(eventData)
        document.getElementById("demo").innerHTML=" "
    })
function closeshift() {
    	  let x = document.getElementById("demo").textContent
    let event = {
    	eventName: "closeshift",
        data: x
        }
       let eventData = JSON.stringify(event)
        scriptEngineHandle.triggerEvent(eventData)
    }
            let close = document.getElementById("close")
    close.addEventListener("click", function () {
        scriptEngineHandle.triggerEvent("closepressed")
    })
     let back = document.getElementById("back")
    back.addEventListener("click", function () {
        scriptEngineHandle.triggerEvent("backpressed")
    })
</script>
</html>
